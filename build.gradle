plugins {
    id 'net.researchgate.release' version '2.4.0'
}

apply plugin: 'java'

repositories {
    jcenter()
}

dependencies {
    compile 'org.slf4j:slf4j-api:1.7.21'

    testCompile 'junit:junit:4.12'
}

release {
    failOnCommitNeeded = true
    failOnPublishNeeded = true
    failOnSnapshotDependencies = true
    failOnUnversionedFiles = true
    failOnUpdateNeeded = true
    revertOnFail = true
    preCommitText = ''
    preTagCommitMessage = '[Gradle Release Plugin] - pre tag commit: '
    tagCommitMessage = 'JenkinsReleaseBuildTag: '
    newVersionCommitMessage = '[Gradle Release Plugin] - new version commit: '
    //tagging the release using product.release, build.no, and version
    tagTemplate = "${ant.properties['product.release']}.${ant.properties['build.no']}-${version}"
    versionPropertyFile = 'gradle.properties'
    versionProperties = []
    buildTasks = ['clean']

    git {
        requireBranch = 'development'
        pushToRemote = 'origin'

        pushToBranchPrefix = ''
    }
}